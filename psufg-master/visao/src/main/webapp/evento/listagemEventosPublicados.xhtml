<ui:composition template="/template/template_login.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">

        <div class="row">
            <div style="margin:20px; display:block; background: transparent url(#{request.contextPath}/resources/img/widget-title-line.png) repeat-x 0 50%">
                <h4 style="color: #0ab770; background: white; display: inline; padding: 10px;"> NOTÍCIAS </h4>
            </div>
        </div>
        
        <ui:repeat var="nd" value="#{eventoBean.eventos}" >
            <div class="list-group-item" style="overflow: hidden; border-radius: 4px; border-color: #c1c1c1; margin: 20px; background:linear-gradient(to right, #fff, #ddd); box-shadow: 0 5px 5px #ddd !important; min-height: 120px;">
                <img style="float: right; width:64px; margin-left: 7px; " src="#{request.contextPath}/resources/img/noticias.png" alt="Imagem notícia"/>

                <h:form>
                    <p:tooltip for="btnEditar" value="Visualizar detalhes"/>
                    <h:commandLink id="btnEditar" action="#{eventoBean.visualizarNoticia()}">
                        <h4 style="margin-bottom: 2px; display: block; "> #{nd.assunto} <span class="glyphicon glyphicon-link"/>  </h4>
                        <f:param name="numero" value="#{nd.id}" />
                    </h:commandLink>      </h:form>

                <h:outputFormat value="{0, date, dd/MM/yyyy 'às' HH:mm} por #{nd.identificacaoSolicitante}" style="color: #b5b5b5;">
                    <f:param value="#{nd.timeStampDaSolicitacao}" />
                </h:outputFormat>

                
                
                <h:outputText escape="false" style=" display: block; text-align:justify !important; padding-top: 10px; font-size: 13px !important;" 
                              value="#{nd.resumoDescricao.length() > 100 ? nd.resumoDescricao.subSequence(0, 100).toString().concat('...') : nd.resumoDescricao}" />
                
            </div>            
        </ui:repeat>


    </ui:define>

</ui:composition>